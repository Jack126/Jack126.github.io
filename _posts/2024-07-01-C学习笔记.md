---
layout: post
title: "C 学习笔记"
category: language
tags: C
---

#### c程序主要包括
-:预处理器指令，函数，变量，语句&表达式，注释

#### 编译 & 执行
```
$ gcc hello.c
$ ./a.out #由编译生成，默认名字

$ gcc hello.c -o hello.out
$ ./hello.out
```

#### 关键字
下表列出了 C 中的保留字。这些保留字不能作为常量名、变量名或其他标识符名称。

```
关键字	说明
auto	声明自动变量
break	跳出当前循环
case	开关语句分支
char	声明字符型变量或函数返回值类型
const	定义常量，如果一个变量被 const 修饰，那么它的值就不能再被改变
continue	结束当前循环，开始下一轮循环
default	开关语句中的"其它"分支
do	循环语句的循环体
double	声明双精度浮点型变量或函数返回值类型
else	条件语句否定分支（与 if 连用）
enum	声明枚举类型
extern	声明变量或函数是在其它文件或本文件的其他位置定义
float	声明浮点型变量或函数返回值类型
for	一种循环语句
goto	无条件跳转语句
if	条件语句
int	声明整型变量或函数
long	声明长整型变量或函数返回值类型
register	声明寄存器变量
return	子程序返回语句（可以带参数，也可不带参数）
short	声明短整型变量或函数
signed	声明有符号类型变量或函数
sizeof	计算数据类型或变量长度（即所占字节数）
static	声明静态变量
struct	声明结构体类型
switch	用于开关语句
typedef	用以给数据类型取别名
unsigned	声明无符号类型变量或函数
union	声明共用体类型
void	声明函数无返回值或无参数，声明无类型指针
volatile	说明变量在程序执行中可被隐含地改变
while	循环语句的循环条件
```

### C 数据类型
-:基本类型：算数类型（整数型，浮点类型）
-:枚举类型：算数类型一种，离散整数值变量
-:void类型
-:派生类型：指针类型，数组类型，结构类型，共同体结构，函数类型

数组类型和结构类型统称为聚合类型。函数类型指的是函数返回值的类型

#### 整数类型
1字节 = 8比特
```
类型            存储大小	值范围
char	        1 字节	    -128 到 127 或 0 到 255
unsigned char	1 字节	    0 到 255
signed char	    1 字节	    -128 到 127
int	            2 或 4 字节	-32,768 到 32,767 或 -2,147,483,648 到 2,147,483,647
unsigned int	2 或 4 字节	0 到 65,535 或 0 到 4,294,967,295
short	        2 字节	    -32,768 到 32,767
unsigned short	2 字节	    0 到 65,535
long	        4 字节	    -2,147,483,648 到 2,147,483,647
unsigned long	4 字节	    0 到 4,294,967,295
```

#### 浮点类型
下表列出了关于标准浮点类型的存储大小、值范围和精度的细节：
```
类型        存储大小	值范围                  精度
float	    4 字节	    1.2E-38 到 3.4E+38	    6 位有效位
double	    8 字节	    2.3E-308 到 1.7E+308	15 位有效位
long double	16 字节	    3.4E-4932 到 1.1E+4932	19 位有效位
```
#### void 类型
void 类型指定没有可用的值。它通常用于以下三种情况下：
```
序号	类型与描述
1	    函数返回为空
C 中有各种函数都不返回值，或者您可以说它们返回空。不返回值的函数的返回类型为空。例如 void exit (int status);
2	    函数参数为空
C 中有各种函数不接受任何参数。不带参数的函数可以接受一个 void。例如 int rand(void);
3	    指针指向 void
类型为 void * 的指针代表对象的地址，而不是类型。例如，内存分配函数 void *malloc( size_t size ); 返回指向 void 的指针，可以转换为任何数据类型。
```

#### C 中的变量声明
变量声明向编译器保证变量以指定的类型和名称存在，这样编译器在不需要知道变量完整细节的情况下也能继续进一步的编译。变量声明只在编译时有它的意义，在程序连接时编译器需要实际的变量声明。

变量的声明有两种情况：

1. 一种是需要建立存储空间的。例如：int a 在声明的时候就已经建立了存储空间。
2. 另一种是不需要建立存储空间的，通过使用extern关键字声明变量名而不定义它。 例如：extern int a 其中变量 a 可以在别的文件中定义的。
除非有extern关键字，否则都是变量的定义。

#### C 存储类

1. auto存储类  所有局部变量默认的存储类。定义在函数中的变量默认为auto，意味着在函数开始时被创建，在函数结束时被销毁
2. register存储类
存储类用于定义存储在寄存器中而不是 RAM 中的局部变量。这意味着变量的最大尺寸等于寄存器的大小（通常是一个字），且不能对它应用一元的 '&' 运算符（因为它没有内存位置）
register 存储类定义存储在寄存器，所以变量的访问速度更快，但是它不能直接取地址，因为它不是存储在 RAM 中的。在需要频繁访问的变量上使用 register 存储类可以提高程序的运行速度。
寄存器只用于需要快速访问的变量，比如计数器。还应注意的是，定义 'register' 并不意味着变量将被存储在寄存器中，它意味着变量可能存储在寄存器中，这取决于硬件和实现的限制。
3. static存储类
static 存储类指示编译器在程序的生命周期内保持局部变量的存在，而不需要在每次它进入和离开作用域时进行创建和销毁。因此，使用 static 修饰局部变量可以在函数调用之间保持局部变量的值。
static 修饰符也可以应用于全局变量。当 static 修饰全局变量时，会使变量的作用域限制在声明它的文件内。
全局声明的一个 static 变量或方法可以被任何函数或方法调用，只要这些方法出现在跟 static 变量或方法同一个文件中。
静态变量在程序中只被初始化一次，即使函数被调用多次，该变量的值也不会重置。
4. extern存储类
extern 存储类用于定义在其他文件中声明的全局变量或函数。当使用 extern 关键字时，不会为变量分配任何存储空间，而只是指示编译器该变量在其他文件中定义。
extern 存储类用于提供一个全局变量的引用，全局变量对所有的程序文件都是可见的。当您使用 extern 时，对于无法初始化的变量，会把变量名指向一个之前定义过的存储位置