---
layout: post
title: "php批量导出excel问题"
category: Language
tags: PHP
date: 2022-06-28 11:00
---


>问题描述：现有需求导出数据表中数据，后台导出按钮点击超时

***解决方法：***
1. phpexcel导出，大概可导出6000左右数据，导出耗时较长
2. 使用csv格式导出，fputcsv速度较快。据查可导出100w左右，具体速度未测算
3. csv结合 yield方式，较方式2可导出数据更多（推荐）
4. 数据库直接导出生成csv （推荐）， 如：

```
SELECT
*
FROM
    table_name 
INTO OUTFILE './table_name.csv'
FIELDS TERMINATED BY ','
OPTIONALLY ENCLOSED BY '"'
LINES TERMINATED BY '\r\n';  
```



***ps.*** 
1. 1w左右数据，方式2，3区别不是很大，10w数据时方法2一般会爆内存错误
